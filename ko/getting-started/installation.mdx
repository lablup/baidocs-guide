# 설치

BaiDocs를 로컬 머신에 설치하여 문서 생성과 편집을 시작하세요. 이 가이드는 개발 환경 설정부터 첫 번째 실행까지 모든 단계를 다룹니다.

## 시스템 요구사항

### 최소 요구사항

- **Node.js**: 18.0 이상
- **npm**: 8.0 이상 (또는 yarn 1.22 이상)
- **Git**: 2.0 이상
- **메모리**: 최소 4GB RAM
- **저장 공간**: 10GB 사용 가능 공간
- **운영체제**: Windows 10+, macOS 10.15+, Linux (Ubuntu 20.04+ 권장)

### 권장 요구사항

- **Node.js**: 최신 LTS 버전 (20.x)
- **메모리**: 8GB+ RAM (대용량 문서 세트의 경우)
- **저장 공간**: SSD 스토리지 (성능 향상)
- **브라우저**: Chrome, Firefox, Safari, Edge 최신 버전

### 사전 설치 확인

시작하기 전에 시스템에 필요한 소프트웨어가 설치되어 있는지 확인하세요:

```bash
# Node.js 버전 확인
node --version
# v18.0.0 이상이어야 합니다

# npm 버전 확인
npm --version
# 8.0.0 이상이어야 합니다

# Git 버전 확인
git --version
# 2.0.0 이상이어야 합니다
```

## Node.js 설치

### Windows

1. **공식 웹사이트에서 다운로드**:
   - [nodejs.org](https://nodejs.org)에 방문
   - LTS 버전 다운로드 (권장)
   - 설치 프로그램 실행하고 기본 설정으로 설치

2. **Chocolatey 사용** (선택사항):
   ```powershell
   # Chocolatey로 설치 (관리자 권한 필요)
   choco install nodejs
   ```

3. **설치 확인**:
   ```cmd
   node --version
   npm --version
   ```

### macOS

1. **공식 웹사이트에서 다운로드**:
   - [nodejs.org](https://nodejs.org)에 방문
   - LTS 버전 다운로드
   - .pkg 파일 실행하고 설치

2. **Homebrew 사용** (권장):
   ```bash
   # Homebrew로 설치
   brew install node
   ```

3. **nvm 사용** (버전 관리):
   ```bash
   # nvm 설치
   curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

   # 터미널 재시작 후
   nvm install --lts
   nvm use --lts
   ```

### Linux (Ubuntu/Debian)

1. **NodeSource 저장소 사용** (권장):
   ```bash
   # NodeSource 저장소 추가
   curl -fsSL https://deb.nodesource.com/setup_lts.x | sudo -E bash -

   # Node.js 설치
   sudo apt-get install -y nodejs
   ```

2. **Snap 사용**:
   ```bash
   sudo snap install node --classic
   ```

3. **nvm 사용** (버전 관리):
   ```bash
   # nvm 설치
   curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

   # 터미널 재시작 후
   nvm install --lts
   nvm use --lts
   ```

## Git 설치

### Windows

1. **공식 웹사이트에서 다운로드**:
   - [git-scm.com](https://git-scm.com)에서 다운로드
   - 설치 프로그램 실행 (기본 설정 권장)

2. **Chocolatey 사용**:
   ```powershell
   choco install git
   ```

### macOS

1. **Xcode Command Line Tools**:
   ```bash
   xcode-select --install
   ```

2. **Homebrew 사용**:
   ```bash
   brew install git
   ```

### Linux

```bash
# Ubuntu/Debian
sudo apt-get update
sudo apt-get install git

# CentOS/RHEL/Fedora
sudo yum install git
# 또는 Fedora의 경우
sudo dnf install git
```

## BaiDocs 설치

### 방법 1: GitHub에서 직접 클론

```bash
# BaiDocs 저장소 클론
git clone https://github.com/lablup/baidocs.git

# 디렉토리로 이동
cd baidocs

# 의존성 설치
npm install
```

### 방법 2: 특정 버전 다운로드

```bash
# 특정 릴리스 버전 클론
git clone --branch v3.0.0 https://github.com/lablup/baidocs.git

cd baidocs
npm install
```

### 방법 3: Zip 파일 다운로드

1. [GitHub 릴리스 페이지](https://github.com/lablup/baidocs/releases)에서 최신 릴리스 다운로드
2. 압축 해제 후 디렉토리로 이동
3. 의존성 설치:
   ```bash
   npm install
   ```

## 초기 설정

### 환경 변수 구성

기본 환경 설정 파일 생성:

```bash
# 예제 환경 파일 복사
cp .env.example .env.local

# 환경 파일 편집
nano .env.local  # 또는 선호하는 에디터 사용
```

기본 환경 변수 설정:

```bash
# .env.local

# 애플리케이션 URL
NEXT_PUBLIC_EDITOR_URL=http://localhost:3001
NEXT_PUBLIC_VIEWER_URL=http://localhost:3000

# 콘텐츠 디렉토리
CONTENT_PATH=./content

# 포트 설정 (기본값)
EDITOR_PORT=3001
VIEWER_PORT=3000

# 개발 설정
NODE_ENV=development
DEBUG=true

# 선택사항: Git 사용자 설정
GIT_USER_NAME="Your Name"
GIT_USER_EMAIL="your.email@example.com"
```

### 콘텐츠 디렉토리 설정

BaiDocs는 `content` 디렉토리에서 모든 문서 프로젝트를 관리합니다:

```bash
# 콘텐츠 디렉토리 확인 및 생성
mkdir -p content

# 예제 북 확인 (설치 시 포함)
ls content/
# example-book/이 있어야 합니다
```

### Git 구성

Git 사용자 정보 설정 (아직 설정하지 않은 경우):

```bash
# 전역 Git 사용자 설정
git config --global user.name "Your Name"
git config --global user.email "your.email@example.com"

# 기본 브랜치 이름 설정 (선택사항)
git config --global init.defaultBranch main
```

## 첫 번째 실행

### 개발 서버 시작

```bash
# 두 애플리케이션 모두 시작
npm run dev

# 또는 개별적으로 시작
npm run dev:editor    # 편집기만
npm run dev:viewer    # 뷰어만
```

성공적으로 시작되면 다음과 같은 출력을 볼 수 있습니다:

```
✓ Ready on http://localhost:3001 (Editor)
✓ Ready on http://localhost:3000 (Viewer)
```

### 웹 브라우저에서 접근

1. **편집기**: [http://localhost:3001](http://localhost:3001)
   - 문서 편집 및 관리 인터페이스
   - 파일 탐색기 및 실시간 미리보기

2. **뷰어**: [http://localhost:3000](http://localhost:3000)
   - 공개 문서 표시
   - 최종 사용자 인터페이스

### 설치 검증

설치가 올바르게 되었는지 확인:

1. **편집기 확인**:
   - 브라우저에서 http://localhost:3001 방문
   - 사이드바에 "example-book" 표시되는지 확인
   - 파일 목록과 편집 인터페이스 확인

2. **뷰어 확인**:
   - 브라우저에서 http://localhost:3000 방문
   - 예제 문서가 정상적으로 렌더링되는지 확인
   - 네비게이션과 검색 기능 테스트

## 설치 문제 해결

### 일반적인 문제

#### 포트 충돌

```bash
# 포트 사용 상태 확인
netstat -tulpn | grep :3000  # Linux/Mac
netstat -an | findstr :3000  # Windows

# 다른 포트 사용
PORT=3002 npm run dev:viewer
PORT=3003 npm run dev:editor
```

#### 권한 문제 (npm 설치)

```bash
# npm 권한 오류 해결
sudo npm install -g npm
npm config set prefix ~/.npm-global

# 또는 nvm 사용 (권장)
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
nvm install --lts
```

#### 의존성 설치 실패

```bash
# npm 캐시 정리
npm cache clean --force

# node_modules 삭제 후 재설치
rm -rf node_modules package-lock.json
npm install

# 또는 yarn 사용
yarn install
```

#### 메모리 부족 오류

```bash
# Node.js 메모리 한계 증가
export NODE_OPTIONS="--max_old_space_size=4096"
npm run dev

# 또는 package.json에서 설정
"scripts": {
  "dev": "node --max_old_space_size=4096 scripts/dev.js"
}
```

### Windows 특정 문제

#### PowerShell 실행 정책

```powershell
# PowerShell 실행 정책 설정
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

#### 긴 경로 문제

```cmd
# 긴 경로 지원 활성화 (관리자 권한)
git config --system core.longpaths true
```

### macOS 특정 문제

#### Xcode Command Line Tools

```bash
# Xcode 도구 설치
xcode-select --install

# 설치 상태 확인
xcode-select -p
```

### Linux 특정 문제

#### 권한 문제

```bash
# 현재 사용자를 docker 그룹에 추가 (Docker 사용 시)
sudo usermod -aG docker $USER

# 파일 권한 확인
ls -la content/
chmod -R 755 content/
```

## 다음 단계

설치가 완료되었다면:

1. **[첫 번째 책 만들기](first-book.mdx)** - 첫 번째 문서 프로젝트 생성
2. **[MDX 기능 살펴보기](../writing/mdx-features.mdx)** - 강력한 콘텐츠 작성법 학습
3. **[고급 설정](../advanced/themes.mdx)** - 사용자 정의 및 고급 기능 탐색

## 개발 환경 최적화

### VS Code 확장

BaiDocs 개발에 유용한 VS Code 확장:

```json
{
  "recommendations": [
    "bradlc.vscode-tailwindcss",
    "ms-vscode.vscode-typescript-next",
    "esbenp.prettier-vscode",
    "davidanson.vscode-markdownlint",
    "silvenon.mdx"
  ]
}
```

### 유용한 별칭

셸 별칭 설정으로 워크플로 개선:

```bash
# .bashrc 또는 .zshrc에 추가
alias baidocs-dev="cd /path/to/baidocs && npm run dev"
alias baidocs-build="cd /path/to/baidocs && npm run build"
alias baidocs-editor="cd /path/to/baidocs && npm run dev:editor"
alias baidocs-viewer="cd /path/to/baidocs && npm run dev:viewer"
```

---

*설치가 완료되었습니다! 이제 첫 번째 문서 프로젝트를 만들 준비가 되었습니다.*