# 개요

BaiDocs는 현대적인 문서화 요구사항을 충족하도록 설계된 차세대 문서 플랫폼입니다. MDX, Git 통합, 강력한 기능으로 아름답고 기능이 풍부하며 유지보수가 쉬운 문서를 만들 수 있습니다.

## 아키텍처 이해

### 듀얼 애플리케이션 설계

BaiDocs는 각각 특정 역할에 최적화된 두 개의 개별 애플리케이션으로 구성됩니다:

#### 📝 편집기 (Editor)

**용도**: 콘텐츠 생성 및 관리
**기본 포트**: 3001
**대상**: 작성자 및 관리자

**주요 기능**:
- 실시간 MDX 편집
- 파일 및 폴더 관리
- Git 통합 (커밋, 푸시, 풀)
- 라이브 미리보기
- 이미지 업로드
- 북 생성 및 설정

```
편집기 워크플로:
작성 → 미리보기 → 저장 → Git 커밋 → 원격 푸시
```

#### 🌐 뷰어 (Viewer)

**용도**: 공개 문서 표시
**기본 포트**: 3000
**대상**: 최종 사용자

**주요 기능**:
- 빠른 문서 렌더링
- 반응형 네비게이션
- 전체 텍스트 검색
- PDF 다운로드
- 다크/라이트 모드
- 다국어 전환

```
뷰어 워크플로:
Git 저장소 → 빌드 → 정적 사이트 → CDN 배포
```

### 왜 두 개의 앱인가?

이 분리된 아키텍처는 여러 이점을 제공합니다:

**🎯 목적별 최적화**:
- 편집기: 생산성과 개발자 경험에 초점
- 뷰어: 성능과 사용자 경험에 초점

**🔒 보안**:
- 편집기는 신뢰할 수 있는 네트워크에서만 접근
- 뷰어는 공개적으로 배포 가능

**⚡ 성능**:
- 뷰어는 정적 사이트로 최적화
- 편집기는 실시간 기능에 최적화

**🚀 배포 유연성**:
- 뷰어: Vercel, Netlify, 또는 CDN
- 편집기: 로컬 또는 사설 서버

## Git 기반 버전 관리

### 브랜치를 통한 버전 관리

BaiDocs는 문서 버전을 Git 브랜치로 관리합니다:

```
저장소 구조:
main                    ← 최신 안정 버전 (v3.0)
├── v2.x               ← 버전 2.x 유지보수
├── v1.x               ← 레거시 버전 1.x
└── develop            ← 개발 브랜치 (v3.1 베타)
```

### 브랜치 전환

사용자는 문서 뷰어에서 버전을 쉽게 전환할 수 있습니다:

- **자동 감지**: 사용 가능한 브랜치 자동 스캔
- **URL 라우팅**: `/docs/v2.x/guide` vs `/docs/v3.0/guide`
- **버전별 콘텐츠**: 각 버전마다 다른 네비게이션과 콘텐츠

### 언어 + 버전 조합

다국어와 버전 관리가 결합됩니다:

```
URL 구조:
/docs/v3.0/en/getting-started    ← 영어 v3.0
/docs/v3.0/ko/getting-started    ← 한국어 v3.0
/docs/v2.x/en/getting-started    ← 영어 v2.x
```

## MDX 기반 콘텐츠

### 마크다운 + JSX

BaiDocs는 MDX를 사용하여 정적 마크다운과 동적 React 컴포넌트를 결합합니다:

**일반 마크다운**:
```markdown
# 제목
이것은 일반적인 마크다운 텍스트입니다.
- 목록 항목
- `인라인 코드`
```

**React 컴포넌트**:
```mdx
<div style={{backgroundColor: '#f0f8ff', padding: '1rem'}}>
  사용자 정의 스타일 콘텐츠!
</div>

import { CustomButton } from '../components/Button'
<CustomButton onClick={() => alert('클릭!')}>
  클릭하세요
</CustomButton>
```

### 향상된 기능

**어드모니션 (Admonitions)**:
```mdx
:::tip 유용한 팁
이것은 유용한 팁 상자입니다.
:::

:::warning 주의사항
주의해야 할 중요한 정보입니다.
:::
```

**코드 블록**:
````mdx
```javascript
function example() {
  console.log('구문 강조가 적용됩니다!');
}
```
````

## 가져오기 및 변환

### 지원하는 소스

BaiDocs는 인기 있는 문서화 도구에서 콘텐츠를 가져올 수 있습니다:

| 도구 | 가져오기 지원 | 변환 기능 |
|------|-------------|----------|
| **Sphinx** | ✅ 완전 지원 | RST → MDX, 네비게이션, 구성, 에셋 |
| **MkDocs** | ✅ 완전 지원 | Markdown → MDX, mkdocs.yml → book.config.yaml |
| **GitBook** | ✅ 완전 지원 | GitBook 형식 → BaiDocs 구조 |
| **일반 Markdown** | ✅ 기본 지원 | 파일 구조 보존, 기본 네비게이션 |

### 깨끗한 저장소 생성

가져오기 프로세스의 주요 장점:

**🧹 완전히 새로운 저장소**:
- 깨끗한 Git 히스토리
- BaiDocs 네이티브 구조
- 최적화된 파일 조직

**🔄 형식 변환**:
- RST/Markdown → MDX
- 레거시 구성 → book.config.yaml
- 에셋 경로 정리

**📁 구조 정리**:
```
Original (Sphinx):          New (BaiDocs):
docs/                       content/my-docs/
├── conf.py                ├── book.config.yaml
├── _build/                ├── en/
├── index.rst              │   ├── index.mdx
└── guide.rst              │   └── guide.mdx
                           └── _assets/
```

## 모노레포 자동 감지

### 지능형 구조 감지

BaiDocs는 저장소 구조를 자동으로 감지합니다:

**독립형 구조** (Standalone):
```
my-docs/
├── book.config.yaml
├── en/
└── ko/
```

**모노레포 구조** (Monorepo):
```
project/
├── src/              ← 애플리케이션 코드
├── docs/             ← 문서 디렉토리
│   ├── book.config.yaml
│   ├── en/
│   └── ko/
└── package.json
```

### 자동 감지 알고리즘

1. **루트 레벨 스캔**: `book.config.yaml` 확인
2. **서브디렉토리 탐색**: 문서 디렉토리 찾기
3. **언어 디렉토리 확인**: `en/`, `ko/` 등 언어 폴더 확인
4. **경로 매핑**: 올바른 콘텐츠 경로 설정

이 자동 감지로 수동 구성 없이도 모노레포에서 원활하게 작동합니다.

## 프로젝트 구조

### 디렉토리 레이아웃

```
baidocs/
├── apps/
│   ├── editor/              ← 편집기 애플리케이션
│   │   ├── src/
│   │   ├── pages/
│   │   └── package.json
│   └── viewer/              ← 뷰어 애플리케이션
│       ├── src/
│       ├── pages/
│       └── package.json
├── packages/
│   ├── shared/              ← 공유 라이브러리
│   └── ui/                  ← UI 컴포넌트
├── content/                 ← 문서 콘텐츠
│   └── example-book/
│       ├── book.config.yaml
│       ├── en/
│       └── ko/
└── package.json
```

### 콘텐츠 디렉토리

각 "책(book)"은 독립된 문서 프로젝트입니다:

```
content/my-book/
├── book.config.yaml         ← 북 구성 파일
├── en/                     ← 영어 콘텐츠
│   ├── index.mdx           ← 홈페이지
│   ├── getting-started/
│   │   ├── overview.mdx
│   │   └── installation.mdx
│   └── _assets/             ← 영어 전용 이미지
└── ko/                     ← 한국어 콘텐츠
    ├── index.mdx
    ├── getting-started/
    │   ├── overview.mdx
    │   └── installation.mdx
    └── _assets/             ← 한국어 전용 이미지
```

## 개발 워크플로

### 로컬 개발

```bash
# 두 앱을 모두 시작
npm run dev

# 또는 개별적으로 시작
npm run dev:editor    # http://localhost:3001
npm run dev:viewer    # http://localhost:3000
```

### 콘텐츠 편집 워크플로

1. **편집기에서 편집** (localhost:3001)
2. **실시간 미리보기** 확인
3. **변경사항 저장**
4. **뷰어에서 확인** (localhost:3000)
5. **Git 커밋 및 푸시**

### 배포 워크플로

**편집기**: 로컬 또는 사설 서버에 유지
**뷰어**: Vercel, Netlify 등에 배포

```
개발 → Git 푸시 → 자동 배포 → 프로덕션
```

## 주요 기능 개요

### 🎨 현대적 UI

- **반응형 디자인**: 모바일부터 데스크톱까지
- **다크 모드**: 자동 감지 및 수동 전환
- **타이포그래피**: 읽기 최적화된 글꼴과 간격
- **접근성**: WCAG 2.1 AA 준수

### 🔍 강력한 검색

- **즉시 검색**: 타이핑과 동시에 결과 표시
- **전체 텍스트**: 모든 콘텐츠와 메타데이터 검색
- **다국어**: 언어별 검색 최적화
- **하이라이팅**: 검색어 강조 표시

### 📄 PDF 생성

- **자동 생성**: 빌드 시 PDF 자동 생성
- **사용자 정의**: 커버 페이지, 헤더/푸터
- **다국어**: 언어별 PDF 생성
- **고품질**: 인쇄 품질의 출력

### 🌍 국제화

- **무제한 언어**: 원하는 만큼 언어 추가
- **독립 네비게이션**: 언어별 다른 구조
- **RTL 지원**: 아랍어, 히브리어 등
- **언어 감지**: 사용자 선호 언어 자동 감지

### 🎛️ 버전 관리

- **Git 브랜치**: 각 버전이 브랜치에 대응
- **자동 감지**: 사용 가능한 버전 자동 스캔
- **버전 전환**: 사용자가 쉽게 버전 변경
- **버전별 콘텐츠**: 버전에 따라 다른 내용

## 시작할 준비가 되셨나요?

이제 BaiDocs 아키텍처를 이해했으니 실제로 시작해보세요:

1. **[설치](installation.mdx)** - BaiDocs 설치 및 설정
2. **[첫 번째 책](first-book.mdx)** - 첫 문서 프로젝트 만들기
3. **[MDX 기능](../writing/mdx-features.mdx)** - 고급 콘텐츠 작성법

---

*BaiDocs의 강력한 아키텍처는 단순한 블로그부터 복잡한 기업 문서까지 모든 문서화 요구사항을 충족합니다.*